{
  "version": 3,
  "sources": ["../../astro/dist/runtime/client/visible.js", "dep:astro_client_visible_js"],
  "sourcesContent": ["import { listen, notify } from \"./events\";\nasync function onVisible(astroId, options, getHydrateCallback) {\n  let io;\n  let innerHTML = null;\n  let hydrate;\n  async function visible() {\n    listen(visible);\n    const roots = document.querySelectorAll(`astro-root[ssr][uid=\"${astroId}\"]`);\n    const cb = async () => {\n      var _a;\n      if (roots.length === 0)\n        return;\n      if (typeof innerHTML !== \"string\") {\n        let fragment = roots[0].querySelector(`astro-fragment`);\n        if (fragment == null && roots[0].hasAttribute(\"tmpl\")) {\n          let template = roots[0].querySelector(`template[data-astro-template]`);\n          if (template) {\n            innerHTML = template.innerHTML;\n            template.remove();\n          }\n        } else if (fragment) {\n          innerHTML = fragment.innerHTML;\n        }\n      }\n      if (!hydrate) {\n        hydrate = await getHydrateCallback();\n      }\n      for (const root of roots) {\n        if ((_a = root.parentElement) == null ? void 0 : _a.closest(\"astro-root[ssr]\"))\n          continue;\n        await hydrate(root, innerHTML);\n        root.removeAttribute(\"ssr\");\n      }\n      notify();\n    };\n    if (io) {\n      io.disconnect();\n    }\n    io = new IntersectionObserver((entries) => {\n      for (const entry of entries) {\n        if (!entry.isIntersecting)\n          continue;\n        io.disconnect();\n        cb();\n        break;\n      }\n    });\n    for (const root of roots) {\n      for (let i = 0; i < root.children.length; i++) {\n        const child = root.children[i];\n        io.observe(child);\n      }\n    }\n  }\n  visible();\n}\nexport {\n  onVisible as default\n};\n", "import d from \"./node_modules/astro/dist/runtime/client/visible.js\";export default d;"],
  "mappings": ";;;;;;;AACA,yBAAyB,SAAS,SAAS,oBAAoB;AAC7D,MAAI;AACJ,MAAI,YAAY;AAChB,MAAI;AACJ,2BAAyB;AACvB,WAAO,OAAO;AACd,UAAM,QAAQ,SAAS,iBAAiB,wBAAwB,WAAW;AAC3E,UAAM,KAAK,YAAY;AACrB,UAAI;AACJ,UAAI,MAAM,WAAW;AACnB;AACF,UAAI,OAAO,cAAc,UAAU;AACjC,YAAI,WAAW,MAAM,GAAG,cAAc,gBAAgB;AACtD,YAAI,YAAY,QAAQ,MAAM,GAAG,aAAa,MAAM,GAAG;AACrD,cAAI,WAAW,MAAM,GAAG,cAAc,+BAA+B;AACrE,cAAI,UAAU;AACZ,wBAAY,SAAS;AACrB,qBAAS,OAAO;AAAA,UAClB;AAAA,QACF,WAAW,UAAU;AACnB,sBAAY,SAAS;AAAA,QACvB;AAAA,MACF;AACA,UAAI,CAAC,SAAS;AACZ,kBAAU,MAAM,mBAAmB;AAAA,MACrC;AACA,iBAAW,QAAQ,OAAO;AACxB,YAAK,MAAK,KAAK,kBAAkB,OAAO,SAAS,GAAG,QAAQ,iBAAiB;AAC3E;AACF,cAAM,QAAQ,MAAM,SAAS;AAC7B,aAAK,gBAAgB,KAAK;AAAA,MAC5B;AACA,aAAO;AAAA,IACT;AACA,QAAI,IAAI;AACN,SAAG,WAAW;AAAA,IAChB;AACA,SAAK,IAAI,qBAAqB,CAAC,YAAY;AACzC,iBAAW,SAAS,SAAS;AAC3B,YAAI,CAAC,MAAM;AACT;AACF,WAAG,WAAW;AACd,WAAG;AACH;AAAA,MACF;AAAA,IACF,CAAC;AACD,eAAW,QAAQ,OAAO;AACxB,eAAS,IAAI,GAAG,IAAI,KAAK,SAAS,QAAQ,KAAK;AAC7C,cAAM,QAAQ,KAAK,SAAS;AAC5B,WAAG,QAAQ,KAAK;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AACA,UAAQ;AACV;;;ACvDoE,IAAO,kCAAQ;",
  "names": []
}
